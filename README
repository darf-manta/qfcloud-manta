# qfc-manta

Una instancia de QFieldCloud

1. Clonar el repositorio incluyendo el submódulo

```
git clone --recurse-submodules https://github.com/darf-manta/qfcloud-manta
```

2. Copiar los archivos environment y compose a `QFieldcloud/`

```
cd qfcloud-manta
cp my.env QFieldCloud/.env
cp my-docker-compose.yml QFieldCloud/
cp my-docker-compose.override.standalone.yml QFieldCloud/
```

3. Añadir `server blocks` extra a la configuración de `nginx`

```
cat extra.conf.template >> QFieldCloud/docker-nginx/templates/default.conf.template
```

4. Colocar certificados TLS válidos en `QFieldcloud/conf/nginx/certs/`

5. Editar las variables con `change_me` en el environment

```
cd QFieldCloud
nano .env
```

6. Construir las imágenes e inicializar los contenedores

```
docker compose build
docker compose up -d
```

7. Ejecutar los comandos post-inicialización descritos en
https://github.com/opengisch/QFieldCloud#deployment

```
docker compose exec app python manage.py migrate
docker compose exec app python manage.py collectstatic
```
